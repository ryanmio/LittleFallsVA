% Code block styling for two-column layout
\usepackage{listings}
\usepackage{xcolor}

% Define colors for code blocks
\definecolor{codebackground}{rgb}{0.95,0.95,0.95}
\definecolor{codeborder}{rgb}{0.8,0.8,0.8}

% Configure listings package for two-column layout
\lstset{
    basicstyle=\tiny\ttfamily,
    backgroundcolor=\color{codebackground},
    frame=single,
    rulecolor=\color{codeborder},
    xleftmargin=0.5em,
    xrightmargin=0.5em,
    framesep=3pt,
    breaklines=true,
    breakatwhitespace=true,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookrightarrow}},
    showstringspaces=false,
    columns=flexible,
    keepspaces=true,
    breakindent=0pt,
    fontadjust=true
}

% The following definition improves wrapping for ```text code blocks generated by Pandoc
\providecommand{\Highlighting}{\lstinline}

% Improve appearance of inline code produced by single back-ticks.
\let\OldTexttt\texttt
\renewcommand{\texttt}[1]{%
  \OldTexttt{\begingroup\tiny#1\endgroup}%
}

% Style the Shaded environment (Pandoc's code blocks) with minimal setup and tiny font
\renewenvironment{Shaded}{%
  \begin{quote}%
  \tiny\ttfamily%
  \setlength{\leftmargin}{0pt}%
  \setlength{\rightmargin}{0pt}%
  \setlength{\parindent}{0pt}%
  \setlength{\parskip}{0pt}%
  \raggedright%
}{%
  \end{quote}%
} 