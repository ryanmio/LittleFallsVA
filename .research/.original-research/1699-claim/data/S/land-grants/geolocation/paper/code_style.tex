% Code block styling for better rendering in PDF
\usepackage{listings}
\usepackage{xcolor}

% Define colors for code blocks
\definecolor{codebackground}{rgb}{0.95,0.95,0.95}
\definecolor{codeborder}{rgb}{0.8,0.8,0.8}

% Configure listings package for code blocks
\lstset{
    basicstyle=\small\ttfamily,
    backgroundcolor=\color{codebackground},
    frame=single,
    rulecolor=\color{codeborder},
    xleftmargin=1em,
    framesep=5pt,
    breaklines=true,
    breakatwhitespace=false,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    showstringspaces=false,
    columns=flexible,
    keepspaces=true
}

% The following definition improves wrapping for ```text code blocks generated by Pandoc
% without relying on the optional fvextra.sty (which may not be installed).
% We simply alias the default Verbatim highlighting that Pandoc inserts for minted
% syntax-highlighting output so that listings will handle wrapping.
\providecommand{\Highlighting}{\lstinline}

% Improve appearance of inline code produced by single back-ticks.
\let\OldTexttt\texttt
\renewcommand{\texttt}[1]{% prevent long inline code from spilling over margins
  \OldTexttt{\begingroup\breaklines#1\endgroup}} 