{{ define "main" }}
<style>
  .scroll-section {
    opacity: 0;
    transition: opacity 1s ease;
  }

  .scroll-section.visible {
    opacity: 1;
  }
</style>

<div id="scroll-container">
  {{ .Content }}
    
    <div class="chapter-nav">
  <a href="#chapter1">Chapter 1</a>
  <a href="#chapter2">Chapter 2</a>
  <a href="#chapter2">Chapter 3</a>
  <a href="#chapter2">Chapter 4</a>
  <a href="#chapter1">Chapter 5</a>
  <a href="#chapter2">Chapter 6</a>
  <a href="#chapter2">Chapter 7</a>
  <a href="#chapter2">Chapter 8</a>
  <!-- Add more links for additional chapters -->
</div>

</div>

<script>
  const scrollSections = document.querySelectorAll(".scroll-section");

  function onScroll() {
    scrollSections.forEach((section) => {
      const sectionTop = section.getBoundingClientRect().top;

      if (sectionTop < window.innerHeight && sectionTop > -window.innerHeight / 2) {
        section.classList.add("visible");
      } else {
        section.classList.remove("visible");
      }
    });
  }

  window.addEventListener("scroll", onScroll);
  onScroll();
</script>
{{ end }}
