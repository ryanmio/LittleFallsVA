{{ define "main" }}
<style>
  .scroll-section {
    opacity: 0;
    transition: opacity 1s ease;
  }

  .scroll-section.visible {
    opacity: 1;
  }
</style>

<div id="scroll-container">
  {{ .Content }}
</div>

<script>
  const scrollSections = document.querySelectorAll(".scroll-section");

  function onScroll() {
    scrollSections.forEach((section) => {
      const sectionTop = section.getBoundingClientRect().top;

      if (sectionTop < window.innerHeight && sectionTop > -window.innerHeight / 2) {
        section.classList.add("visible");
      } else {
        section.classList.remove("visible");
      }
    });
  }

  window.addEventListener("scroll", onScroll);
  onScroll();
</script>
{{ end }}
